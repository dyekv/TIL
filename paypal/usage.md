## PayPal とは

WEB決済サービス

似たようなものにStripe、Amazon Payなどがある

ユーザと販売者はPayPalに支払情報を登録し、PayPalを仲介して決済を行う

ユーザはクレジットカード番号などの流出リスクを減らせ、販売者側も機密情報を保有するリスクを減らせる

## 使い方（実装）

### メール決済

最も簡単にPayPal経由で決済する方法

メールで自分のPayPalへの決済のリンクを共有する

### ボタン設置

次に簡単なPayPal導入方法

商品情報と価格を設定するとHTMLコードが自動的に生成されるため、HPやランディングページに配置する

### API決済

システムで使用する場合はこれがメインか

API経由でPayPalを利用する

![スクリーンショット 2021-02-15 14 57 17](https://user-images.githubusercontent.com/56820273/107910606-199a7180-6f9e-11eb-9124-9c1fe99b0b84.png)

図の③で価格、通貨単位、戻りのURLなどをAPIに渡して、`Order ID`とPayPalの決済処理URLを取得する

取得したURLにリダイレクトし、ユーザに④〜⑤を行ってもらう

戻りのURLに決済情報の詳細や支払いIDが帰ってくる

支払いIDは返金処理で使用するため、DBなどに格納しておく必要がある

ここでその他アクションをトリガーする実装を行う（決済が正常に完了したら、ライセンスキーをメール送信するなど）





