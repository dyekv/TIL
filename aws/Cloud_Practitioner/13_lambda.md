## Lambda

クラウドファンクション

コードを実行するコンピュートサービス

イベント駆動型コンピューティングに使用する

サーバレスアプリケーションを構築できる

### 特徴

１秒に数千のリクエストに対応

利用期間あたりの料金ではなく、実行時間ベースの料金（ミリ秒単位）

様々なプログラミング言語に対応（Node.js C# Pythonなど）

S3パケットが変更されたとき、DBの値が変わったときなどのタイミングでコードを実行することができる

また、`Amazon API Gateway`を利用することで、HTTPリクエストに応答できる

### デモ

画像認識のデモンストレーション

S3で静的なページをホスティングしており、ユーザが画像をアップロードできる

ユーザがS3にデータをアップロードしたことを`Cloud Watch`で検出し、`Lambda`を動かす

AWSコンソールのLambdaから`create function`で関数を作成する

ランタイムを選択し、ソースを記述する

今回はS3パケットをチェックし、パブリックアクセスされたファイルがあるとアクセス権を取り消し通知する

環境変数を設定したり、実行ロールを設定することもできる

Triggersでトリガーを設定する

今回はCloud watchイベントを使用する

Monitoringで実行回数を監視することができる

### ユースケース

- 自動バックアップ

- 画像の整形処理

- イベント駆動のログ解析

- サーバレスのウェブサービス

  - APIゲートウェイを使ってREST APIでLambdaが動くようにする

- IoT






