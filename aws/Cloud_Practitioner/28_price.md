## Price

サービスを使用している期間、実際に使ったリソースの代金を支払う

従量課金制で予約して支払いを削減したり、使用量の増加による単価の値引きを受けたりすることでコストを節約できる

### AWSの料金

AWSを使うと、機器の購入などの高い前払い金を省き、変動費のみの支払いで済む

従量課金制により、コストを無駄に投入することなく変化するニーズに柔軟に対応できる

EC2やRDSなど一部のサービスはリザーブドキャパシティーが利用できる

リザーブドインスタンスを使うと、同等のオンデマンドキャパシティに比べ、最大75%節約できる

リザーブドインスタンスには３種類ある

- AURI（全額前払い）
- PURI（一部前払い）
- NURI（前払いなし）

前払い額が大きいほど割引も大きくなる

リザーブドインスタンスを使用することでコストを削減し予測可能な予算管理を行う事ができる

また、ストレージ周りが一番コストを削減しやすい

パフォーマンス、セキュリティ、耐久性を高めると同時に料金も下げられるソリューションを正しく組み合わせて選択する

S3やEC2からのデータ送信の価格は階層化されており、使用すれば使用するほどギガバイトあたりの費用は安くなる

AWSを使用するニーズが増すほどスケールメリットを得ることができる

新規ユーザ向けに無料利用枠が提供されている（EC2マイクロインスタンスを１年無料で利用できる）

S3、EBS、ELB、データ転送でも無料利用枠が提供されている

複数のAWSアカウントを所持している場合、一括請求でAWS使用量を一元管理し、全料金の合計で階層化の割引を享受できる

AWSのサービスはどんどん増えていくが、使った分のみ支払うという料金設定は変わらない

### コスト

基本はコンピューティング性能、ストレージ、データの発信に対して料金が発生する

データの受信、同一リージョン内での他サービス間のデータ転送は常に無料

送信するデータに対する料金は毎月「AWS Data Transfer Out」という項目で記載される

### EC2

実際に利用したキャパシティに対してのみ課金される

#### コストを算出する要素

- 時間単位（秒/時間）の課金
- AWSリージョンによってコストが異なる
- パフォーマンス（インスタンスタイプ[コア数]、インスタンスサイズ[メモリ]）
- OS・ソフトウェア（Windowsや商用ソフトウェアの料金）
  - AWSが提供していないソフトウェアやOSはユーザでベンダーライセンスを取得する

#### 購入タイプ

- オンデマンドインスタンス
  - 時間単位のコンピューティング性能
  - 最短60秒から利用可能

- リザーブドインスタンス
  - 前払いの金額を自由に設定してインスタンスの予約ができる
  - 前払い０での予約も可能
  - インスタンスの時間料金に割引が適用される

- スポットインスタンス
  - 使用されていないEC2キャパシティーに入札

#### その他の検討事項

- インスタンス数
  - ピーク時の負荷に複数のインスタンスをプロビジョニングする際はインスタンス数で金額が上がる

- 負荷分散
  - ELBを用いてトラフィックを分散する
  - ロードバランサの実行時間と処理されたデータによってコストが発生する

#### オプション

- モニタリング
  - CloudWatchでモニタリングする
  - 基本モニタリングは無料だが、詳細モニタリングは固定料金が発生する

- Auto Scaling
  - Auto Scaling自体には追加料金は無い
  - インスタンスを増やすと料金が増える

- Elastic IPアドレス
  - 実行中のインスタンスに関連付けられた１つのIPアドレスが無料で利用できる

### S3

- ストレージクラス
  - 標準ストレージ
  - 低頻度アクセス（S-IA)
    - あまり頻繁にアクセスされないデータを冗長性レベルを下げてコストを抑える
- バケットに保存されるオブジェクトの数とサイズ
- リクエスト数
- リクエストメソッド（GETの場合は料金が異なる）
- S3リージョンから送信されるデータの量

### EBS (Elastic Block Store)

- プロビジョニングした量（GB/月）でコストが発生
- ストレージを開放するまで毎月料金が発生
- ボリュームタイプによって追加でコストが発生
  - 汎用SSD・・・追加料金無し
  - プロビジョンドIOPS（SSD)・・・プロビジョニングしたIOPSの量に応じて課金
  - マグネティックディスク・・・IOPSのリクエスト数に応じて課金
  - ※IOPS・・・１秒あたりの入出力数
- スナップショット
  - スナップショットを利用する場合、その月に保存されたデータ1GBごとに料金が発生
- データ転送
  - 着信データ転送は無料
  - 発信データ転送は料金が発生
  - 発信データ転送の量に応じて段階的な割引が適用される

### RDS

コスト効率に優れたリレーショナル・データベース

- 実行時間に基づいてコストが発生（作成してから削除するまで）
- データベースの特性（データベースエンジン・サイズ・メモリクラス）でコストが増減する
- 購入タイプ
  - オンデマンドデータベースインスタンス
    - 基本料金無しで完全な時間単位で課金される
  - リザーブドデータベースインスタンス
    - 1年契約と3年契約がある
    - 前払い料金が発生する
  - プロビジョニング
    - プロビジョニングしてピーク時の負荷を処理することができる
- プロビジョニング済ストレージ
  - データベースストレージの100%までのバックアップストレージは無料
  - 削除されたDBのバックアップを保持しておくこともできるが、GB/月で課金される
- 追加ストレージ
  - プロビジョニング済ストレージに加えて、バックアップストレージにGB/月で課金される
- データ転送
  - 着信データ転送は無料
  - 発信データ転送は階層化された料金が発生
- デプロイタイプ
  - デプロイするアベイラビリティゾーンの数によってコストが発生する（冗長化）

### Amazon CloudFront

コンテンツ配信用のウェブサービス（CDN)

基本料金なしで使用できる（従量課金制）

- 地域リージョン（エッジロケーション）によって料金が異なる
- リクエストの種類
- データ転送（送信）

### まとめ

それぞれのサービスについてコストを算出して見積もる
