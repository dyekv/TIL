## 耐障害性と高可用性



### 耐障害性

障害が発生しても運用を続けられる能力

アプリケーションのコンポーネントに組み込まれた冗長性

### 高可用性

システム全体に対する概念

システムが常時機能し、アクセス可能な状態にあること

ダウンタイムが最小限に抑えられる

人間の介入を必要としない

### AWSの特徴

最低限の人間の関与と、最低限の先行投資で構築できる

オンプレとAWSの可用性の比較

![スクリーンショット 2021-02-08 21 20 17](https://user-images.githubusercontent.com/56820273/107218780-71dbeb80-6a53-11eb-824c-e63827b67d7c.png)

### 高可用性の実現の仕方

- ### ELB（Elastic Load Balancing）
  - 着信トラフィックを分散する
  - CloudWatchにメトリクスを送信する（高いレイテンシー・過剰な使用率をトリガーにできる）

- Elastic IPアドレス
  - 静的IPアドレス（ユーザが同じIPアドレスで、置換リソースにアクセスできる）
    - 障害が発生したときに隠蔽する（ユーザからは正常に見える）
    - インスタンスに障害が発生してもアプリケーションへのアクセスを維持する

- Amazon Route53
  - 権威DNSサービス（ドメインをIPアドレスに変換）
  - 以下の特徴により高可用性を実現する
    - シンプルなルーティング
    - レイテンシーベースのルーティング
    - ヘルスチェック
    - DNSフェイルオーバー
    - 位置情報ルーティング

- AUto Scaling
  - インスタンスの作成と削除ができる
  - キャパシティの調整
  - 手作業のスケールイン・アウトからの脱却

- Amazon CloudWatch
  - 分散型統計収集システム
  - インフラストラクチャのメトリクスを追跡する
  - カスタムメトリクスを作成できる
  - しきい値の監視とAuto Scalingと組み合わせる

### 耐障害性を実現する

- SQS(Sinple Queue Service)
  - 信頼性の高いメッセージングシステム
  - キューを常時仕様可能な状態にする

- S3(Simple Storage Service)
  - すべてのデータが複数のデバイスやリージョン内で冗長化される
  
- RDS(Relational Database Service)
  - 自動化されたバックアップ
  - マルチアベイラビリティゾーン

