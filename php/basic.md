# PHPとは

動的なHTMLを記述することができるサーバサイド言語

# 基本構文

- HTML内にphpを追加する

  - `<?php xxx ?>` で、xxxの部分にphpを記述する
  - 基本的にHTMLタグの中にphpタグを埋め込む `<p><?php xxx ?></p>`
  - ifやforeachなどでhtmlを書きたい場合はendタグを使う`<?php if(true):?> ..HTML.. <?php endif?>`
  - HTMLの`<form>`タグ内で`<input>`した値は`$_POST`で受け取れる
  - `<input>`タグの`name`属性で`name`を指定すれば`$_POST[name]`で受け取れる
  - クエリストリングは`$_GET['key']` で受け取れる

- 変数宣言

  - `$変数名 = 値`
  - 変数には`$`をつける（変数を使用するときも）
  
- 定数

  - `define("KEY","valur")`
  - KEYは大文字、`＄`は必要ない
  - `__DIR__`などあらかじめ用意されている定数もある
  
- 変数展開

  - `"こんにちは{$name}さん"`
  - ダブルクオーテーションの中に中括弧で変数を記述すると文字列に埋め込める
  - シングルクォーテーションの場合はただの文字列としてみなされるので注意
  - 普通に文字列を結合する際は`.(ドット)`で結合できる
  
- 配列

  - `$配列名 = array('value0','value1','value2',..)` で宣言
  - `$配列名[] = 'value'` で配列の末尾に値を追加
  - `$配列名[1] = 'value'` で任意の値を上書き
  
- 連想配列

  - `$配列名 = array('key'=>value, ...)`
  - `$配列名['key'] = value` で要素の追加ができる
  - 基本的には連想配列を配列に入れて使う
  - `$配列名['key']` でvalueを取り出せる
  
- クラス

  - `class ClassName {..中身..}` でクラスを定義する
  - クラス名は大文字から始める
  - `new ClassName()` でインスタンスを生成する
  - `$インスタンス -> プロパティ名 = value;`でそのインスタンスでプロパティに値をセットできる
    このとき`プロパティ名`に`$`は不要
  - クラス内でthisを使うときは`$this -> プロパティ名`
  - メソッド名を`__construct`にするとコンストラクタ（自動初期化メソッド）が作れる
    インスタンス生成時の引数がコンストラクタの引数に入る
  - クラスプロパティにアクセスするには`クラス名::$プロパティ名` と記述する
    クラス内からクラスプロパティにアクセスする際は`self::$プロパティ名` と記述する
  - 継承する場合は `class 子クラス名 extends 親クラス名{..}`でコンストラクタ、メソッド、プロパティが引き継がれる
  - 子クラスから親クラスのプロパティにアクセスしたい場合はアクセス権を`protected`にする
  - オーバーライドする際に親クラスのメソッドをそのまま使いたい場合は`parent::メソッド名`で呼び出す
  - `インスタンス instanceof クラス名`を使用するとそのインスタンスが指定のクラスのものか分かる
  
- ファイルのインポート

  - `require_once(ファイルパス)` で他のファイルで定義したクラスや変数を使うことができる
  
