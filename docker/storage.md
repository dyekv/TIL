# storage(データ保存領域)

MySQLのDBデータなど、各コンテナ内で使うデータはコンテナ内部に保存される

コンテナを削除すると内部データも一緒に消える

# データ永続化

コンテナを削除してもデータを消さないように管理する

### ファイル共有バックアップ

ホストマシンにバックアップ用のディレクトリを作成し、コンテナを起動する際に指定したディレクトリと共有する

コンテナが削除されてもバックアップディレクトリにデータが残る

### Docker機能で永続化

ホストマシンにディレクトリを作成しなくてもDockerエンジン上で永続化ができる

好きな名前をつけてデータ領域を確保することができる（？）

### ファイル共有やり方

ファイル共有をするとコンテナ内に入らなくてもそのディレクトリにアクセスできるようになる

`docker-compose.yml`に`volumes: - ホストディレクトリ:コンテナディレクトリ` と記述すると共有できる

Dockerの機能でコンテナ間を共有すればそれぞれのサービス間でやり取りができるようになる

コンテナ間での共有にはvolumesを使う、[参考](https://gitlab.com/ktt/dc-wp-aws/-/blob/master/docker-compose.yml)
